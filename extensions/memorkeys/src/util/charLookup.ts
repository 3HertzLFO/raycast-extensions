// Simple number to key mapping
export const numberToKey = {
  0: "a",
  1: "s",
  2: "d",
  3: "f",
  4: "h",
  5: "g",
  6: "z",
  7: "x",
  8: "c",
  9: "v",
  10: "unknown",
  11: "b",
  12: "q",
  13: "w",
  14: "e",
  15: "r",
  16: "y",
  17: "t",
  18: "1",
  19: "2",
  20: "3",
  21: "4",
  22: "6",
  23: "5",
  24: "=",
  25: "9",
  26: "7",
  27: "-",
  28: "8",
  29: "0",
  30: "]",
  31: "o",
  32: "u",
  33: "[",
  34: "i",
  35: "p",
  36: "return",
  37: "l",
  38: "j",
  39: "'",
  40: "k",
  41: ";",
  42: "\\",
  43: ",",
  44: "/",
  45: "n",
  46: "m",
  47: ".",
  48: "tab",
  49: "space",
  50: "`",
  51: "delete",
  52: "keypad_enter",
  53: "escape",
  54: "command",
  55: "command_right",
  56: "shift",
  57: "caps_lock",
  58: "option",
  59: "control",
  60: "shift_right",
  61: "option_right",
  62: "control_right",
  63: "fn",
  64: "f17",
  65: "unknown",
  66: "unknown",
  67: "keypad_decimal",
  68: "keypad_multiply",
  69: "keypad_plus",
  70: "unknown",
  71: "keypad_clear",
  72: "unknown",
  73: "unknown",
  74: "unknown",
  75: "keypad_divide",
  76: "keypad_enter",
  77: "unknown",
  78: "keypad_minus",
  79: "unknown",
  80: "keypad_equals",
  81: "unknown",
  82: "keypad_0",
  83: "keypad_1",
  84: "keypad_2",
  85: "keypad_3",
  86: "keypad_4",
  87: "keypad_5",
  88: "keypad_6",
  89: "keypad_7",
  90: "f18",
  91: "f19",
  92: "keypad_8",
  93: "keypad_9",
  94: "unknown",
  95: "unknown",
  96: "f5",
  97: "f6",
  98: "f7",
  99: "f3",
  100: "f8",
  101: "f9",
  102: "unknown",
  103: "f11",
  104: "unknown",
  105: "f13",
  106: "f16",
  107: "f14",
  108: "unknown",
  109: "f10",
  110: "unknown",
  111: "f12",
  112: "unknown",
  113: "f15",
  114: "help",
  115: "home",
  116: "page_up",
  117: "forward_delete",
  118: "f4",
  119: "end",
  120: "f2",
  121: "page_down",
  122: "f1",
  123: "left",
  124: "right",
  125: "down",
  126: "up",
};

// Reverse mapping: key to number
export const keyToNumber = Object.fromEntries(Object.entries(numberToKey).map(([num, key]) => [key, parseInt(num)]));

// Grouped by key type
export const keyboardMap = {
  letters: {
    a: 0,
    b: 11,
    c: 8,
    d: 2,
    e: 14,
    f: 3,
    g: 5,
    h: 4,
    i: 34,
    j: 38,
    k: 40,
    l: 37,
    m: 46,
    n: 45,
    o: 31,
    p: 35,
    q: 12,
    r: 15,
    s: 1,
    t: 17,
    u: 32,
    v: 9,
    w: 13,
    x: 7,
    y: 16,
    z: 6,
  },
  numbers: {
    "0": 29,
    "1": 18,
    "2": 19,
    "3": 20,
    "4": 21,
    "5": 23,
    "6": 22,
    "7": 26,
    "8": 28,
    "9": 25,
  },
  symbols: {
    "=": 24,
    "-": 27,
    "[": 33,
    "]": 30,
    "\\": 42,
    ";": 41,
    "'": 39,
    ",": 43,
    ".": 47,
    "/": 44,
    "`": 50,
  },
  special: {
    space: 49,
    tab: 48,
    return: 36,
    delete: 51,
    escape: 53,
    forward_delete: 117,
  },
  modifiers: {
    command: 54,
    command_right: 55,
    shift: 56,
    shift_right: 60,
    option: 58,
    option_right: 61,
    control: 59,
    control_right: 62,
    fn: 63,
    caps_lock: 57,
  },
  function_keys: {
    f1: 122,
    f2: 120,
    f3: 99,
    f4: 118,
    f5: 96,
    f6: 97,
    f7: 98,
    f8: 100,
    f9: 101,
    f10: 109,
    f11: 103,
    f12: 111,
    f13: 105,
    f14: 107,
    f15: 113,
    f16: 106,
    f17: 64,
    f18: 90,
    f19: 91,
  },
  navigation: {
    left: 123,
    right: 124,
    down: 125,
    up: 126,
    home: 115,
    end: 119,
    page_up: 116,
    page_down: 121,
    help: 114,
  },
  keypad: {
    keypad_0: 82,
    keypad_1: 83,
    keypad_2: 84,
    keypad_3: 85,
    keypad_4: 86,
    keypad_5: 87,
    keypad_6: 88,
    keypad_7: 89,
    keypad_8: 92,
    keypad_9: 93,
    keypad_decimal: 67,
    keypad_multiply: 68,
    keypad_plus: 69,
    keypad_clear: 71,
    keypad_divide: 75,
    keypad_enter: 76,
    keypad_minus: 78,
    keypad_equals: 80,
  },
};

// Get key category helper function
export const getKeyCategory = (keyCode: number) => {
  const key = numberToKey[keyCode as keyof typeof numberToKey];
  for (const [category, keys] of Object.entries(keyboardMap)) {
    if (key in keys) return category;
  }
  return null;
};

// Row-based layout (following QWERTY layout)
export const keyboardRows = {
  number: [
    { key: "`", code: 50 },
    { key: "1", code: 18 },
    { key: "2", code: 19 },
    { key: "3", code: 20 },
    { key: "4", code: 21 },
    { key: "5", code: 23 },
    { key: "6", code: 22 },
    { key: "7", code: 26 },
    { key: "8", code: 28 },
    { key: "9", code: 25 },
    { key: "0", code: 29 },
    { key: "-", code: 27 },
    { key: "=", code: 24 },
  ],
  top: [
    { key: "q", code: 12 },
    { key: "w", code: 13 },
    { key: "e", code: 14 },
    { key: "r", code: 15 },
    { key: "t", code: 17 },
    { key: "y", code: 16 },
    { key: "u", code: 32 },
    { key: "i", code: 34 },
    { key: "o", code: 31 },
    { key: "p", code: 35 },
    { key: "[", code: 33 },
    { key: "]", code: 30 },
    { key: "\\", code: 42 },
  ],
  home: [
    { key: "a", code: 0 },
    { key: "s", code: 1 },
    { key: "d", code: 2 },
    { key: "f", code: 3 },
    { key: "g", code: 5 },
    { key: "h", code: 4 },
    { key: "j", code: 38 },
    { key: "k", code: 40 },
    { key: "l", code: 37 },
    { key: ";", code: 41 },
    { key: "'", code: 39 },
  ],
  bottom: [
    { key: "z", code: 6 },
    { key: "x", code: 7 },
    { key: "c", code: 8 },
    { key: "v", code: 9 },
    { key: "b", code: 11 },
    { key: "n", code: 45 },
    { key: "m", code: 46 },
    { key: ",", code: 43 },
    { key: ".", code: 47 },
    { key: "/", code: 44 },
  ],
  spacebar: [{ key: "space", code: 49 }],
  arrows: [
    { key: "up", code: 126 },
    { key: "down", code: 125 },
    { key: "left", code: 123 },
    { key: "right", code: 124 },
  ],
};
